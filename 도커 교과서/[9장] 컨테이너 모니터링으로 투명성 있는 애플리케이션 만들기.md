# 9.1 컨테이너화된 애플리케이션에서 사용되는 모니터링 기술 스택

컨테이너 환경의 모니터링은 일반 환경과는 사뭇 다르다. 컨테이너 이전의 전통적인 애플리케이션 모니터링이라고 하면, 서버의 목록과 현재 동작 상태(잔여 디스크 공간, 메모리와 CPU 사용량 등)가 표시된 대시보드가 있고 과부하가 걸리거나 응답하지 않는 서버가 발생하면 경보가 울리는 형태가 대표적이다. 컨테이너화된 애플리케이션의 환경은 이보다 훨씬 역동적이다. 애플리케이션은 수십개에서 수백개에 이르는 커테이너에 걸쳐 실행되고, 컨테이너는 플랫폼에 의해 끊임없이 생성됐다가 삭제되기를 반복한다.

이런 환경에서는 컨테이너를 다룰 수 있으며 컨테이너 플랫폼과 연동해 정적인 컨테이너 혹은 IP 주소 목록 없이도 실행 중인 애플리케이션을 속속들이 들여다볼 수 있는 도구를 갖춘 새로운 모니터링 방식이 필요하다. 프로메테우스는 바로 이런 기능을 제공하는 오픈 소스 도구다.

프로메테우스의 또 다른 장점은 도커 엔진의 측정값도 같은 형식으로 추출할 수 있다는 점이다. 이를 통해 컨테이너 플랫폼에서 벌어지는 일도 파악할 수 있다. 이 기능을 사용하려면 도커 엔진 설정에서 프로메테우스 측정 기능을 명시적으로 활성화해야 한다. 도커 엔진의 설정은 daemon.js라는 이름의 파일에 포함돼 있는데, 이 파일은 리눅스 환경에서는 /etc/docker 디렉터리에 있다.